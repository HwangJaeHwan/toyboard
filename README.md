# toyboard
학습한 기술을 실전처럼 적용하기 위해 만든 게시판 프로젝트입니다. Redis 캐싱, AWS 배포, jenkins 등 실제 서비스 구현에 필요한 요소들을 학습하고 직접 구현했습니다.

# 배포 주소
http://52.78.205.217:8080

# 프로젝트 구조
![게시판 구조도3](https://github.com/user-attachments/assets/2e7ac425-da52-4cb0-a32e-076586b0db23)


# ERD
![디비 구조도](https://github.com/HwangJaeHwan/toyboard/assets/58110333/9cffb2ae-24cc-4498-8c26-133c46655835)

## 🛠 기술 스택
| 분류 | 기술 | 설명 |
|------|------|------|
| Backend | Java, Spring Boot | 웹 애플리케이션 개발 |
| Frontend | Thymeleaf | 서버 사이드 렌더링 템플릿 엔진 |
| Infra | AWS EC2, RDS, S3, Redis | 인프라 구성 및 운영 |
| DevOps | Docker, Jenkins | CI/CD 자동화 및 배포 |
| Editor | Summernote | 게시글 에디터 및 이미지 업로드 |



# 주요 기능

### 🏠 홈
- 게시판별 최신 게시글 5개 조회 및 메인 페이지에 표시
- 추천 수 기준 인기 게시글 리스트 제공
- 인기/최신 게시글은 Redis 캐싱을 활용하여 빠르게 응답

### 👤 회원가입 / 로그인
- 아이디, 이메일 중복 여부 서버 검증
- 이메일 형식, 비밀번호 조건 등 유효성 검사 적용

### 📝 게시글 기능
- 페이징 기반 게시글 목록 조회 (10개 단위)
- 최신순, 조회순, 추천순 정렬 지원
- 제목, 닉네임으로 검색 가능
- Summernote 에디터 적용으로 이미지 포함 작성 가능
- 이미지 업로드 시 AWS S3에 저장
- 게시글 수정/삭제는 작성자 또는 관리자 권한 검증
- 추천 기능은 1인 1회로 제한 (중복 방지 처리)

### 💬 댓글 기능
- 댓글 작성, 수정, 삭제 기능 제공
- 댓글 작성자 및 관리자만 수정/삭제 가능
- 댓글에 대해 up/down 기능 적용 (하나만 선택 가능)

### 📄 마이페이지 로그
- 게시글, 댓글, 추천, 신고 등 사용자 활동 기록
- 페이징 처리된 로그 목록 제공
- 각 로그 클릭 시 관련 게시글/댓글로 이동 가능

### 🚨 신고 기능
- 게시글 및 댓글에 대해 신고 가능
- 동일 유저의 중복 신고 차단 처리
- 관리자 페이지에서 누적 신고 기준으로 필터링/정렬 가능

### 🛠 관리자 기능
- 전체 사용자 목록 조회 및 검색
- 일정 신고 수 이상 누적된 게시글/댓글 목록 확인
- 관리자 권한으로 게시글/댓글 삭제
 
# 문제 해결

### 1. Redis 캐싱을 통한 조회 속도 최적화

**문제**  
카테고리별 최신 게시글을 조회하는 사용자의 요청이 많아지면서 DB 부하가 증가했고, 트래픽 증가에 따른 성능 저하가 발생했습니다.

**해결**  
- Redis를 도입하여 카테고리별 최신 게시글 목록을 캐싱
- 조회 요청 시 DB 대신 Redis를 통해 데이터 응답

**결과**  
- 응답 속도 120ms → 3ms로 약 40배 개선
- DB 쿼리 호출 횟수 감소
- 메인 페이지 속도 향상 및 트래픽 증가 상황에서도 안정적인 성능 유지

---

### 2. 스프링 프록시 AOP 내부 호출 문제 해결

**문제**  
같은 클래스 내에서 AOP가 적용된 메서드를 직접 호출하면 프록시 객체를 거치지 않아 AOP 기능이 동작하지 않는 문제가 발생했습니다.

**해결**  
- AOP 대상 메서드를 별도의 서비스 클래스로 분리하여 외부에서 호출

**결과**  
- AOP 기능이 정상 적용

 
 
