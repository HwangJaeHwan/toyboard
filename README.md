# toyboard
학습한 것을 체득하기 위한 게시판 토이프로젝트

# 배포 주소
http://52.78.205.217:8080

# 프로젝트 구조
![게시판 구조도3](https://github.com/user-attachments/assets/2e7ac425-da52-4cb0-a32e-076586b0db23)


# ERD
![디비 구조도](https://github.com/HwangJaeHwan/toyboard/assets/58110333/9cffb2ae-24cc-4498-8c26-133c46655835)



# 주요 기능

* __홈__
  * 각 게시만의 최신 게시물 5개씩 표시
  * 인기 게시글의 리스트를 표시 

* __회원가입__
  * 아이디, 이메일 중복 확인
  * validation을 사용해 회원가입 정보들이 조건에 맞는지 검사
 
* __로그인__

* __게시글 목록 조회__
  * 페이징 처리
  * 최신순, 조회순, 추천순으로 정렬
  * 제목, 닉네임으로 검색 가능
 
* __게시글 조회__ 

* __게시글 작성__
  * summernote editor 사용
  * 이미지 업로드 가능(이미지 S3에 저장)

* __게시글 수정, 삭제__
  * 게시글 작성자와 관리자만 수정, 삭제
 
* __게시글 추천__
  * 중복 추천 불가
 
* __댓글 작성__
  * 댓글 작성자 및 관리자만 삭제, 수정 가능
  * 댓글의 up, down은 한가지만 선택 가능
  * 댓글의 up, dwon 중복 불가
 
* __로그__
  * 페이징 처리 
  * 게시글 작성, 댓글 작성 시 마이페이지에 로그
  * 게시글 추천, 댓글 up, down시 마이페이지에 로그
  * 해당 로그를 통해 해당 게시물, 댓글 접근 가능
 
* __신고__
  * 게시물 및 댓글을 신고할 수 있음
 
* __관리자 페이지__
  * 모든 유저의 목록을 조회
  * 일정 수 이상의 신고를 받은 게시물과 댓글 조회
 
# 문제 해결

### Redis 캐싱을 통한 조회 속도 최적화

* 문제
  * 카테고리별 최신 게시물을 조회하는 요청이 많아, 데이터베이스 호출 빈도가 높아지고 응답 속도가 느려졌습니다.

* 해결
  * Redis를 사용하여 카테고리별 최신 게시물을 캐싱하고, 데이터베이스 호출 빈도를 줄였습니다.
* 결과
  * 응답 속도가 120ms에서 3ms로 단축되었습니다.
  * 빈번한 데이터베이스 호출이 Redis로 대체되어 성능이 최적화되었습니다.
 
### 스프링 프록시 AOP 내부 호출 문제 해결

* 문제
  * 같은 클래스 내에서 AOP가 적용된 메서드를 내부 호출하면 프록시를 거치지 않아 AOP 로직이 실행되지 않는 문제가 발생했습니다

* 해결
  * AOP가 적용된 메서드 호출을 외부 호출로 변경하여 프록시를 통해 실행되도록 수정했습니다.
* 결과
  * AOP 로직이 내부 호출을 외부 호출로 전환해 프록시를 통해 실행되도록 수정하여 AOP 기능이 정상적으로 작동되도록 했습니다.


 
 
